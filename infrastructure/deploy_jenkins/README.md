# Автоматизированный процесс развёртывания Jenkins с полным восстановлением настроек.

## Предварительные требования:

1. Установленный Ansible.
2. Создан сервер для установки Jenkins (VM, LXC).
3. Создан SSH ключ и добавлен на новый сервер (VM, LXC).

### Описание:
Этот playbook позволяет автоматически развернуть Jenkins с использованием Ansible и восстановить все настройки из архива данных jenkins_volume. Процесс включает установку Docker и всех зависимостей, создание нового тома для хранения данных, загрузку резервных копий данных в том, скачивание образа и запуск контейнера Docker, установку Nginx, Certbot и конфигурацию Nginx для добавления собственного доменного имени для автоматического выпуска сертификата Let's Encrypt. Затем производится восстановление всех настроек Jenkins из архива данных в jenkins_volume. Данные архива хранятся в файле jenkins_home.tar.gz

**Установка:** 

1. Добавьте IP адрес сервера для установки и путь к SSH ключу в файл inventory.ini.

2. Проверьте связь с новым сервером: `ansible all -m ping -i inventory.ini`

3. Добавьте своё доменное имя в файл `nginx.conf.j2`

4. В файле jenkins_install.yml измените название путей фаилов конфигурации Nginx на название своего домена.\
`cmd: certbot --nginx --non-interactive --agree-tos --email <email> -d <название доменного имени>`

Заменить все следующие значения на свои данные
`jenkins1-hitmouz.com.conf` на `example-example.com.conf`

6. Запустите YAML playbook для автоматической установки и настройки:
```
    ansible-playbook -i inventory.ini jenkins_install.yml
```
